---

- name: Setup variables and check requirements
  hosts: all
  tasks:

    - name: Check that we're running Linux
      assert:
        that:
          - "ansible_system == 'Linux'"
        msg: "This playbook only supports Linux systems"

    - name: Check that we're running Ubuntu
      assert:
        that:
          - "ansible_distribution == 'Ubuntu'"
        msg: "This playbook only supports Ubuntu systems"    
        
    - name: Check that we're running Ubuntu 18.04 or newer distribution
      assert:
        that:
          - "ansible_distribution_version|int >= 18"
        msg: "This playbook only supports Ubuntu 18.04 and newer distributions"          

- import_playbook: ubuntu.yml
- import_playbook: tools.yml
- import_playbook: editors.yml
- import_playbook: git.yml
- import_playbook: front-end-toolkit.yml
- import_playbook: python.yml
# - import_playbook: vagrant.yml
- import_playbook: docker.yml
# - import_playbook: gcloud.yml
# - import_playbook: aws.yml
- import_playbook: hashicorp.yml
# - import_playbook: golang.yml
# - import_playbook: devops.yml
# - import_playbook: secops.yml
